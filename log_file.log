
========================================
TeeLogging information from stdout and stderr
2014-Nov-17-19h55

reading config file
Using default value for interfile : None
Using default value for samplingfile : None
Using default value for samplingfile_fake : False
Using default value for zerofilling : None
[0.5, 0.5]
Using default value for ref_mass : 0.0
Using default value for ref_freq : 0.0
------------ processing parameters ------------------
apex  : ../DATA_test/ubiquitine_2D_000002.d
compress_level  : 3.0
compress_outfile  : True
do_F1  : True
do_F2  : True
do_flip  : True
do_modulus  : True
do_rem_ridge  : True
do_urqrd  : False
format  : Apex
infile  : ../DATA_test/ubiquitine_2D_000002.msh5
interfile  : None
largest  : 8589934592
mp  : True
nproc  : 4
outfile  : ../DATA_test/ubiquitine_2D_000002_mr.msh5
samplingfile  : None
samplingfile_fake  : False
szmlist  : [0.5, 0.5]
tempdir  : ../DATA_test
urqrd_rank  : 100
zflist  : None
-----------------------------------------------------
importing <built-in function dir> into ../DATA_test/ubiquitine_2D_000002.msh5
['../DATA_test/ubiquitine_2D_000002.d/Apex2_LC_autoexclusion_test2.m/apexAcquisition.method'] 1
******************* 
 ../DATA_test/ubiquitine_2D_000002.msh5 is a FTICR-MS file created by NMRTEC on 11/17/2014 07:55 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:55 
********************
Updating axis F1 specwidth to 500000.000000
Updating axis F2 specwidth to 500000.000000
Updating all axes highmass to 2500.000000
reading ../DATA_test/ubiquitine_2D_000002.msh5
******************* 
 ../DATA_test/ubiquitine_2D_000002.msh5 is a FTICR-MS file created by NMRTEC on 11/17/2014 07:55 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:55 
********************
 Import : 0:01:07
---------------SETTINGS---------------------
| MAX_COLUMNS  512
| MAX_NODE_ATTRS  4096
| MAX_GROUP_WIDTH  16384
| MAX_UNDO_PATH_LENGTH  10240
| CHUNK_CACHE_NELMTS  521
| CHUNK_CACHE_PREEMPT  1
| CHUNK_CACHE_SIZE  104857600
| METADATA_CACHE_SIZE  104857600
| NODE_CACHE_SLOTS  104857600
| IO_BUFFER_SIZE  1048576
| BUFFER_TIMES  100
| EXPECTED_ROWS_EARRAY  1000
| EXPECTED_ROWS_TABLE  10000
| PYTABLES_SYS_ATTRS  True
---------------SETTINGS---------------------
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  2048 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 1478
Axis F2 : FT-ICR axis at 500.000000 kHz,  65536 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 47313
[1024, 32768] 32 Mpoint
(0.5, 0.5)
(1024, 32768)
[1024, 8192] 8 Mpoint
(0.125, 0.125)
(1024, 8192)
[1024, 2048] 2 Mpoint
(0.03125, 0.03125)
(1024, 2048)
[1024, 1024] 1 Mpoint
(0.0078125, 0.0078125)
(1024, 1024)
sizes to process [(1024, 32768), (1024, 8192), (1024, 2048), (1024, 1024)]
[(1024, 32768), (1024, 8192), (1024, 2048), (1024, 1024)]
preparing intermediate file 
creating TEMPFILE: ../DATA_test/tmpfile_for_ubiquitine_2D_000002_mr..msh5
preparing output file 
######################### d1.report() ################
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  1024 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  32768 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 23656
######################### Checked ################

=============================
processing FT
=============================
---------- ../DATA_test/ubiquitine_2D_000002.msh5
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  2048 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 1478
Axis F2 : FT-ICR axis at 500.000000 kHz,  65536 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 47313
---------- None
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  1024 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  65536 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 47313
---------- ../DATA_test/ubiquitine_2D_000002_mr.msh5
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  1024 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  32768 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 23656
############  in do_proc_F2 #########
dinp.axis1.itype  0
dinp.axis2.itype  0
doutp.axis1.itype  0
doutp.axis2.itype  0
dinp.axis1.size  2048
dinp.axis2.size  65536
doutp.axis1.size  1024
doutp.axis2.size  65536
########################### doutp.report() 
Dim 2
Axis F1 : FT-ICR axis at 500.000000 kHz,  1024 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  65536 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 47313
 F2 processing time : 0:00:11
LEFT_POINT 118.168903875
 F1 processing time : 0:00:42
 F1-F2 processing time : 0:01:38
==  FT Processing finished  ==
 FT processing time : 0:01:38

================
downsampling level 1
================
downsampling resol2 (1024, 8192)
Dim 2
Axis F1 : FT-ICR axis at 557.756062 kHz,  1024 real points,  from mz = 2500.000   to m/z =  258.877  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  8192 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 5913

================
downsampling level 2
================
downsampling resol3 (1024, 2048)
Dim 2
Axis F1 : FT-ICR axis at 557.756062 kHz,  1024 real points,  from mz = 2500.000   to m/z =  258.877  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  2048 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 1478

================
downsampling level 3
================
downsampling resol4 (1024, 1024)
Dim 2
Axis F1 : FT-ICR axis at 557.756062 kHz,  1024 real points,  from mz = 2500.000   to m/z =  258.877  R max (M=400) = 739
Axis F2 : FT-ICR axis at 500.000000 kHz,  1024 real points,  from mz = 2500.000   to m/z =  288.780  R max (M=400) = 739
 Downsampling time : 0:00:13
== Processing finished  ==
 Total processing time : 0:02:59
testing zerofilling computation
[2048, 20480] 40 Mpoint
[1024, 10240] 10 Mpoint
[1024, 5120] 5 Mpoint
sizes to process [(2048, 20480), (1024, 10240), (1024, 5120), (1024, 1280)]
[3072, 14336] 42 Mpoint
(3, 1.5)
(3072, 14336)
[1024, 3584] 3 Mpoint
(0.75, 0.375)
(1024, 3584)
[1024, 1024] 1 Mpoint
(0.1875, 0.09375)
(1024, 1024)
sizes to process [(3072, 14336), (1024, 3584), (1024, 1792)]
test itod and dtoi
itod might have to be checked
dtoi might have to be checked
 - Testing FFT methods - 
ecart max : (1.1808037709e-16+1.46612316997e-17j)
ecart moyen : (7.9538060291e-19-1.72645775664e-19j)
 - Testing load methods
loading 1D
radd
radd
test 1D peak picker
test 2D peak picker
hou 2D [5, 10] [7, 12]

======== testing unit conversion functions ===============
FT-ICR axis at 1667.000000 kHz,  1000 real points,  from mz = 2000.000   to m/z =   86.617  R max (M=400) = 216
size : 1000   sw 1667000.000000  ref_mass 344.097400 ref_freq 419620.000000  left_point 0.000000  highmass 2000.000000  itype 0 units point
point at index 1 is at freq 1668.668669, m/z 86530.150472
point at index 301 is at freq 502269.269269, m/z 287.475583
point at index 980 is at freq 1635295.295295, m/z 88.296072
point at index 999 is at freq 1667000.000000, m/z 86.616767
FT-ICR axis at 1635.295295 kHz,  681 real points,  from mz = 2000.000   to m/z =   88.296  R max (M=400) = 216
size : 681   sw 1635295.295295  ref_mass 344.097400 ref_freq 419620.000000  left_point 300.000000  highmass 2000.000000  itype 0 units point
point at index 1 is at freq 502269.269269, m/z 287.475583
point at index 301 is at freq 1002869.869870, m/z 143.976956
point at index 661 is at freq 1603590.590591, m/z 90.041780
point at index 680 is at freq 1635295.295295, m/z 88.296072

======== testing FTICRAxis object ===============
[  8.87462514e+04   4.43594934e+04   2.95699674e+04 ...,   8.67862790e+01
   8.67014403e+01   8.66167672e+01]
[  8.86089529e+04   4.43044764e+04   2.95363176e+04 ...,   8.67864377e+01
   8.67015195e+01   8.66167672e+01]
[  8.86089529e+04   8.86089529e+04   4.43044764e+04 ...,   8.67864377e+01
   8.67015195e+01   8.66167672e+01]

======== None ===============
Dim 1
Axis F1 : FT-ICR axis at 1667.000000 kHz,  10000 real points,  from mz = 1000.000   to m/z =   86.617  R max (M=400) = 2165
Dim 2
Axis F1 : FT-ICR axis at 1667.000000 kHz,  500 real points,  from mz = 1000.000   to m/z =   86.617  R max (M=400) = 108
Axis F2 : FT-ICR axis at 1667.000000 kHz,  10000 real points,  from mz = 1000.000   to m/z =   86.617  R max (M=400) = 2165
extracting : [43, 500, 0, 10000]
extracting : [0, 457, 866, 10000]
2D trimz gain is : 16 %

======== testing unit conversion functions ===============
Orbitrap axis at 1667.000000 kHz,  1000 real points,  from mz = 2000.000   to m/z =   21.803  M/DeltaM (M=400) = 117
size : 1000   sw 1667000.000000  ref_mass 344.097400 ref_freq 419620.000000  left_point 0.000000  highmass 2000.000000  itype 0 units point
point at index 1 is at freq 1668.668669, m/z 21759731.229374
point at index 301 is at freq 502269.269269, m/z 240.170983
point at index 980 is at freq 1635295.295295, m/z 22.656946
point at index 999 is at freq 1667000.000000, m/z 21.803316
Orbitrap axis at 1635.295295 kHz,  681 real points,  from mz = 2000.000   to m/z =   22.657  M/DeltaM (M=400) = 117
size : 681   sw 1635295.295295  ref_mass 344.097400 ref_freq 419620.000000  left_point 300.000000  highmass 2000.000000  itype 0 units point
point at index 1 is at freq 502269.269269, m/z 240.170983
point at index 301 is at freq 1002869.869870, m/z 60.242721
point at index 661 is at freq 1603590.590591, m/z 23.561707
point at index 680 is at freq 1635295.295295, m/z 22.656946
Dim 2
Axis F1 : Orbitrap axis at 1667.000000 kHz,  500 real points,  from mz = 1000.000   to m/z =   21.803  M/DeltaM (M=400) = 58
Axis F2 : Orbitrap axis at 1667.000000 kHz,  10000 real points,  from mz = 1000.000   to m/z =   21.803  M/DeltaM (M=400) = 1167
extracting : [73, 500, 0, 10000]
extracting : [0, 427, 1476, 10000]
2D trimz gain is : 27 %

======== Test routine that overloads the parameter from an axis ===============
File_Version 0.8
open in modifying mode rw
******************* 
 ../DATA_test/file_fticr is a FTICR-MS file created by NMRTEC on 11/17/2014 07:45 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:45 
********************
ABOUT TO CLOSE  ../DATA_test/file_fticr
IT's CLOSED  ../DATA_test/file_fticr

======== Test routine that creates a HDF5 file according to a given FTICRData ===============
['../DATA_test/cytoC_2D_000001.d/Apex2_LC_autoexclusion_test2.m/apexAcquisition.method'] 1
File_Version 0.8
Open HDF5 File with writing rights
Create HDF5 File from fticrdata
[{'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 500000.0, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 2000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 2048}]
[{'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 500000.0, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 2000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 2048}, {'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 500000.0, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 2000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 65536}]
table /resol1/axes (Table(0,)) ''
2048 65536
chunks (33, 1025)
ABOUT TO CLOSE  ../DATA_test/file_fticr
IT's CLOSED  ../DATA_test/file_fticr

======== Testing the creation of a HDF5 file according to a given nparray ===============
File_Version 0.8
Open HDF5 File with writing rights
Create HDF5 File from nparray
[{'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 6283.185307179586, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 10000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 2048}]
[{'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 6283.185307179586, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 10000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 2048}, {'ref_freq': 419620.0, 'FTICR': 'FTICR', 'ref_mass': 344.0974, 'itype': 0, 'specwidth': 6283.185307179586, 'left_point': 0.0, 'sampling': None, 'unit_types': ['points', 'm/z', 'Hz'], 'highmass': 10000.0, 'sampling_info': {}, 'units': 'point', 'attributes': ['FTICR', 'left_point', 'highmass', 'ref_freq', 'ref_mass', 'specwidth', 'itype', 'units', 'sampling'], 'size': 65536}]
table /resol1/axes (Table(0,)) ''
2048 65536
chunks (33, 1025)
ABOUT TO CLOSE  ../DATA_test/file_npar
IT's CLOSED  ../DATA_test/file_npar

======== Test routine that opens a HDF5 file reading, gets the headers and the buffer ===============
testing get_data the type file
******************* 
 ../DATA_test/file_fticr is a FTICR-MS file created by NMRTEC on 11/17/2014 07:58 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:58 
********************

======== Test routine that creates a HDF5 file according to a given nparray and returns the buffer (FTICRData) ===============
******************* 
 ../DATA_test/npar_fticr is a FTICR-MS file created by NMRTEC on 11/17/2014 07:58 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:58 
********************
******************* 
 ../DATA_test/npar_fticr is a FTICR-MS file created by NMRTEC on 11/17/2014 07:58 with code version 0.8.
 HDF5 version is 1.8.13 and API version is 0.8.
 Last modification has been made 11/17/2014 07:58 
********************
2048

======== Test and time routine that import 2D from the MS-FTICR folder to the file given as second argument ===============
['../DATA_test/cytoC_2D_000001.d/Apex2_LC_autoexclusion_test2.m/apexAcquisition.method'] 1
import 23.5826909542 secondes

======== Test and time routine that import 2D from the MS-FTICR folder in memory ===============
['../DATA_test/cytoC_2D_000001.d/Apex2_LC_autoexclusion_test2.m/apexAcquisition.method'] 1
import 19.5257470608 secondes

======== Test the transfer from a ser file to an HDF5File ===============
../DATA_test/cytoC_2D_000001.d/ser
../DATA_test/cytoC_2D_000001_direct.msh5
FTICR FTICR
left_point 0.0
highmass 1000.0
ref_freq 419620.0
ref_mass 344.0974
specwidth 1667000.0
itype 0.0
units m/z
sampling None
loading 2D
NMR NMR
frequency 600.182800293
offset -699.814880371
specwidth 7183.90820312
itype 0.0
units ppm
sampling None
******* figure 11 *****
*** subplot : 2
-- xlabel : x1
-- ylabel : y1
-- plot : 6 points  one
*** subplot : 2
-- xlabel : x1
-- ylabel : y1
-- plot : 11 points  two
*** subplot : 2
-- ylabel : y3
-- plot : 15 points  three
*** subplot : 2
-- ylabel : y4
-- plot : 21 points  four
*** subplot : 2
-- ylabel : y5
-- plot : 21 points  five
******** show
******* figure 12 *****
*** subplot : 1
-- xlabel : x1
-- ylabel : y1
-- plot : 10 points  one
*** subplot : 1
-- xlabel : x1
-- ylabel : y1
-- plot : 20 points  two
*** subplot : 1
-- ylabel : y3
-- plot : 41 points  three
******** show
passing by hip
hip is being debugged..!
ici  here
you are in hop
========================
| modules tested were: |
========================

Algo.Cadzow
Algo.Linpredic
Algo.urQRd
Algo.SL0
Algo.maxent
processing
NPKData
FTICR
Orbitrap
File.GifaFile
File.HDF5File
File.Apex
File.csv
util.dynsubplot
util.debug_tools
=============================================================
| CONGRATULATIONS - all the 15 tests performed succesfully  |
=============================================================

================================
| test performed in 348.18 sec |
================================

___Closing remaining open files:../DATA_test/file_fticr...done
function solve  time : 0.981203 sec    called 1 times    time/call : 0.981203 sec
function concentring called 11 times
function Q called 12574 times
function transform called 13080 times
function t_transform called 503 times
